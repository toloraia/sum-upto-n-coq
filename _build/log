# dune build --display=short
# OCAMLPARAM: unset
# Shared cache: enabled-except-user-rules
# Shared cache location: /home/temo/.cache/dune/db
# Workspace root: /home/temo/refinedc-projects/sum_upto
# Auto-detected concurrency: 8
# Dune context:
#  { name = "default"
#  ; kind = "default"
#  ; profile = Dev
#  ; merlin = true
#  ; fdo_target_exe = None
#  ; build_dir = In_build_dir "default"
#  ; instrument_with = []
#  }
$ /home/temo/.opam/iris_tutorial/bin/ocamlc.opt -config > /tmp/dune_c550bc_output
$ /home/temo/.opam/iris_tutorial/bin/coqc --config > /tmp/dune_328308_output
$ (cd _build/default/src/proofs/sum_upto && /home/temo/.opam/iris_tutorial/bin/coqdep -boot -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/btauto -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/cc -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/derive -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/extraction -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/firstorder -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/funind -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ltac -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ltac2 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ltac2_ltac1 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/micromega -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/micromega_core -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/nsatz -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/number_string_notation -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ring -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/rtauto -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ssreflect -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ssrmatching -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/tauto -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/tutorial/p0 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/tutorial/p1 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/tutorial/p2 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/tutorial/p3 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/zify -R /home/temo/.opam/iris_tutorial/lib/coq/theories Coq -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/Ltac2 Ltac2 -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/RecordUpdate RecordUpdate -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/caesium caesium -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/iris iris -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/lithium lithium -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/refinedc/typing refinedc.typing -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/refinedc/typing/automation refinedc.typing.automation -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/stdpp stdpp -R . refinedc.project.sum_upto.src.sum_upto -dyndep opt -vos generated_spec.v generated_proof_sum_upto_n.v generated_proof_main.v generated_code.v) > _build/default/src/proofs/sum_upto/.refinedc.project.sum_upto.src.theory.d
$ (cd _build/default && /home/temo/.opam/iris_tutorial/bin/coqc -q -w -notation-incompatible-prefix -w -redundant-canonical-projection -w -deprecated-native-compiler-option -w -native-compiler-disabled -native-compiler ondemand -boot -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/btauto -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/cc -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/derive -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/extraction -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/firstorder -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/funind -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ltac -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ltac2 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ltac2_ltac1 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/micromega -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/micromega_core -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/nsatz -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/number_string_notation -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ring -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/rtauto -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ssreflect -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ssrmatching -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/tauto -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/tutorial/p0 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/tutorial/p1 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/tutorial/p2 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/tutorial/p3 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/zify -R /home/temo/.opam/iris_tutorial/lib/coq/theories Coq -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/Ltac2 Ltac2 -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/RecordUpdate RecordUpdate -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/caesium caesium -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/iris iris -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/lithium lithium -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/refinedc/typing refinedc.typing -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/refinedc/typing/automation refinedc.typing.automation -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/stdpp stdpp -R src/proofs/sum_upto refinedc.project.sum_upto.src.sum_upto src/proofs/sum_upto/generated_code.v)
$ (cd _build/default && /home/temo/.opam/iris_tutorial/bin/coqc -q -w -notation-incompatible-prefix -w -redundant-canonical-projection -w -deprecated-native-compiler-option -w -native-compiler-disabled -native-compiler ondemand -boot -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/btauto -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/cc -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/derive -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/extraction -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/firstorder -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/funind -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ltac -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ltac2 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ltac2_ltac1 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/micromega -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/micromega_core -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/nsatz -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/number_string_notation -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ring -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/rtauto -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ssreflect -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ssrmatching -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/tauto -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/tutorial/p0 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/tutorial/p1 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/tutorial/p2 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/tutorial/p3 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/zify -R /home/temo/.opam/iris_tutorial/lib/coq/theories Coq -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/Ltac2 Ltac2 -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/RecordUpdate RecordUpdate -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/caesium caesium -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/iris iris -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/lithium lithium -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/refinedc/typing refinedc.typing -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/refinedc/typing/automation refinedc.typing.automation -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/stdpp stdpp -R src/proofs/sum_upto refinedc.project.sum_upto.src.sum_upto src/proofs/sum_upto/generated_spec.v)
$ (cd _build/default && /home/temo/.opam/iris_tutorial/bin/coqc -q -w -notation-incompatible-prefix -w -redundant-canonical-projection -w -deprecated-native-compiler-option -w -native-compiler-disabled -native-compiler ondemand -boot -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/btauto -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/cc -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/derive -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/extraction -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/firstorder -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/funind -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ltac -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ltac2 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ltac2_ltac1 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/micromega -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/micromega_core -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/nsatz -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/number_string_notation -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ring -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/rtauto -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ssreflect -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/ssrmatching -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/tauto -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/tutorial/p0 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/tutorial/p1 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/tutorial/p2 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/tutorial/p3 -I /home/temo/.opam/iris_tutorial/lib/coq/../coq-core/plugins/zify -R /home/temo/.opam/iris_tutorial/lib/coq/theories Coq -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/Ltac2 Ltac2 -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/RecordUpdate RecordUpdate -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/caesium caesium -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/iris iris -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/lithium lithium -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/refinedc/typing refinedc.typing -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/refinedc/typing/automation refinedc.typing.automation -Q /home/temo/.opam/iris_tutorial/lib/coq/user-contrib/stdpp stdpp -R src/proofs/sum_upto refinedc.project.sum_upto.src.sum_upto src/proofs/sum_upto/generated_proof_sum_upto_n.v)
> Type system got stuck in function "sum_upto_n" in block "#0" !
> Location: "src/sum_upto.c" [ 13 : 2 - 15 : 3 ]
> up to date: true
> Goal:
> arg_n : loc
> local_i : loc
> local_sum : loc
> n : nat
> H : ((n * (n + 1)) `div` 2 ≤ max_int u32)
> Q : (gmap label stmt)
> R : (val → type → iProp Σ)
> H0 : (min_int i32 ≤ 0)
> v : val
> v0 : val
> ---------------------------------------
> _ : v ∶ 0 @ int<u32>
> _ : v0 ∶ 1 @ int<u32>
> --------------------------------------∗
> [{ ∃ x : nat *ₗ (),
>    exhale ⌜0 = (x.1ₗ * (x.1ₗ - 1)) `div` 2⌝;
>    exhale ⌜x.1ₗ ≤ n + 1⌝;
>    done
> }]
>
>
> Type system got stuck in function "sum_upto_n" in block "#1" !
> Location: "src/sum_upto.c" [ 13 : 2 - 15 : 3 ]
> up to date: true
> Case distinction (if bool_decide (x ≤ n)) -> true
> at "src/sum_upto.c" [ 13 : 9 - 13 : 15 ]
> Goal:
> arg_n : loc
> local_i : loc
> local_sum : loc
> n : nat
> H : ((n * (n + 1)) `div` 2 ≤ max_int u32)
> Q : (gmap label stmt)
> R : (val → type → iProp Σ)
> i : nat
> x : Z
> H0 : (i ≤ n + 1)
> v : val
> v0 : val
> H1 : (min_int u32 ≤ x)
> H2 : (x ≤ max_int u32)
> H3 : (min_int u32 ≤ n)
> H4 : (n ≤ max_int u32)
> H5 : (x ≤ n)
> v1 : val
> v2 : val
> H6 : (min_int u32 ≤ (i * (i - 1)) `div` 2)
> H7 : ((i * (i - 1)) `div` 2 ≤ max_int u32)
> v3 : val
> H8 : (min_int u32 ≤ 1)
> ---------------------------------------
> _ : i2v ((i * (i - 1)) `div` 2 + x) u32
>     ∶ ((i * (i - 1)) `div` 2 + x) @ int<u32>
> _ : i2v (x + 1) u32 ∶ (x + 1) @ int<u32>
> --------------------------------------∗
> [{ ∃ x0 : nat *ₗ (),
>    exhale ⌜((i * (i - 1)) `div` 2 + x)%Z = (x0.1ₗ * (x0.1ₗ - 1)) `div` 2⌝;
>    exhale ⌜x0.1ₗ ≤ n + 1⌝;
>    done
> }]
>
>
> Cannot solve side condition in function "sum_upto_n" !
> Location: "src/sum_upto.c" [ 14 : 4 - 14 : 12 ]
> Location: "src/sum_upto.c" [ 14 : 4 - 14 : 13 ]
> up to date: true
> Case distinction (if bool_decide (x ≤ n)) -> true
> at "src/sum_upto.c" [ 13 : 9 - 13 : 15 ]
> Goal:
> n : nat
> H : ((n * (n + 1)) `div` 2 ≤ max_int u32)
> i : nat
> x : Z
> H0 : (i ≤ n + 1)
> H1 : (min_int u32 ≤ x)
> H2 : (x ≤ max_int u32)
> H3 : (min_int u32 ≤ n)
> H4 : (n ≤ max_int u32)
> H5 : (x ≤ n)
> H6 : (min_int u32 ≤ (i * (i - 1)) `div` 2)
> H7 : ((i * (i - 1)) `div` 2 ≤ max_int u32)
> ---------------------------------------
> ((i * (i - 1)) `div` 2 + x ≤ max_int u32)
>
>
> Cannot solve side condition in function "sum_upto_n" !
> Location: "src/sum_upto.c" [ 13 : 17 - 13 : 20 ]
> Location: "src/sum_upto.c" [ 13 : 17 - 13 : 20 ]
> up to date: true
> Case distinction (if bool_decide (x ≤ n)) -> true
> at "src/sum_upto.c" [ 13 : 9 - 13 : 15 ]
> Goal:
> n : nat
> H : ((n * (n + 1)) `div` 2 ≤ max_int u32)
> i : nat
> x : Z
> H0 : (i ≤ n + 1)
> H1 : (min_int u32 ≤ x)
> H2 : (x ≤ max_int u32)
> H3 : (min_int u32 ≤ n)
> H4 : (n ≤ max_int u32)
> H5 : (x ≤ n)
> H6 : (min_int u32 ≤ (i * (i - 1)) `div` 2)
> H7 : ((i * (i - 1)) `div` 2 ≤ max_int u32)
> H8 : (min_int u32 ≤ 1)
> ---------------------------------------
> (x + 1 ≤ max_int u32)
>
>
> Cannot solve side condition in function "sum_upto_n" !
> Location: "src/sum_upto.c" [ 21 : 2 - 21 : 13 ]
> up to date: true
> Case distinction (if bool_decide (x ≤ n)) -> false
> at "src/sum_upto.c" [ 13 : 9 - 13 : 15 ]
> Goal:
> n : nat
> H : ((n * (n + 1)) `div` 2 ≤ max_int u32)
> i : nat
> x : Z
> H0 : (i ≤ n + 1)
> H1 : (min_int u32 ≤ x)
> H2 : (x ≤ max_int u32)
> H3 : (min_int u32 ≤ n)
> H4 : (n ≤ max_int u32)
> H5 : (¬ x ≤ n)
> ---------------------------------------
> ((i * (i - 1)) `div` 2 = (n * (n + 1)) `div` 2)
>
>
> File "./src/proofs/sum_upto/generated_proof_sum_upto_n.v", line 38, characters 2-6:
> Error:  (in proof type_sum_upto_n): Attempt to save an incomplete proof
> (the proof term is not complete because of given up (admitted) goals).
> If this is really what you want to do, use Admitted in place of Qed.
>
[1]
